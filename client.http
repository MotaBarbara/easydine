@baseUrl = http://localhost:3333
@token = eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIzMjNiNjI4My1mOGM0LTRjMDQtYTQ0Ny0zYmExMzg1YTI2MDEiLCJlbWFpbCI6Im1vdGFAZ21haWwuY29tIiwibmFtZSI6Ik1vdGEiLCJpYXQiOjE3NjMyMDA0MzF9.bOBMxxLFvxTXucs1gYnoV2gb-TR7U1TxL1sfuyE6_Hk
@restaurantId = d06a13cf-966f-4cbd-815b-3bdfd8c45f39
@otherRestaurantId = 240a299b-0757-4609-83e0-ca1ca3b9cbac
@reservationId = 20c2d9e7-6587-4299-9083-ff07d660c904
@cancelToken = e5c60b86-8067-4ea1-a2aa-c8388e16f83a

### Create user
POST {{baseUrl}}/users
Content-Type: application/json

{
  "name": "Mota",
  "email": "mota@gmail.com",
  "password": "123456"
}

### Authenticate
POST {{baseUrl}}/sessions
Content-Type: application/json

{
  "email": "mota@gmail.com",
  "password": "123456"
}

### Create Restaurant
POST {{baseUrl}}/restaurants
Content-Type: application/json
Authorization: Bearer {{token}}

{
  "name": "Restaurant Mota",
  "logo": null,
  "primaryColor": "#C0392B",
  "settings": {
    "closedWeekly": [{ "weekday": 1, "from": "12:00", "to": "15:00" }],
    "closedDates": [{ "date": "2025-12-25", "from": "18:00", "to": "23:59" }],
    "slots": [
      { "from": "12:00", "to": "12:00", "maxReservations": 1000 },
      { "from": "13:00", "to": "14:00", "maxReservations": 1000 },
      { "from": "18:00", "to": "20:00", "maxReservations": 1000 },
      { "from": "20:00", "to": "22:00", "maxReservations": 1000 }
    ]
  }
}

### Re-authenticate after creating restaurant
POST {{baseUrl}}/sessions
Content-Type: application/json

{
  "email": "mota@gmail.com",
  "password": "123456"
}

### Create Reservation
POST {{baseUrl}}/reservations
Content-Type: application/json
Authorization: Bearer {{token}}

{
  "restaurantId": "{{restaurantId}}",
  "date": "2025-11-20T18:00:00.000Z",
  "time": "19:22",
  "customerName": "Luisa",
  "customerEmail": "barbarantmotaa@gmail.com",
  "groupSize": 5
  }


### Cancel Reservation
PATCH {{baseUrl}}/reservations/{{reservationId}}/cancel
Authorization: Bearer {{token}}

### List reservations for a specific date
GET {{baseUrl}}/restaurants/{{restaurantId}}/reservations?date=2025-11-19
Accept: application/json
Authorization: Bearer {{token}}


### Should be 401 without token
GET {{baseUrl}}/restaurants/{{restaurantId}}/reservations
Accept: application/json

### Should be 403 with token for a DIFFERENT restaurantId
GET {{baseUrl}}/restaurants/{{otherRestaurantId}}/reservations
Accept: application/json
Authorization: Bearer {{token}}

### List upcoming reservations: Should work with correct owner token + restaurantId
GET {{baseUrl}}/restaurants/{{restaurantId}}/reservations
Accept: application/json
Authorization: Bearer {{token}}


### Update restaurant
PUT {{baseUrl}}/restaurants/{{restaurantId}}
Content-Type: application/json
Authorization: Bearer {{token}}

{
  "name": "Restaurant do Updated",
  "primaryColor": "#C0392B",
  "settings": {
    "slots": [
      { "from": "12:00", "to": "13:30", "maxReservations": 20 },
      { "from": "18:00", "to": "20:00", "maxReservations": 24 },
      { "from": "20:00", "to": "22:00", "maxReservations": 24 }
    ],
    "closedWeekly": [{ "weekday": 1, "from": "12:00", "to": "15:00" }],
    "closedDates": [{ "date": "2025-12-25", "from": "18:00", "to": "23:59" }]
  }
}

### Clear logo only
PUT {{baseUrl}}/restaurants/{{restaurantId}}
Content-Type: application/json
Authorization: Bearer {{token}}

{ "logo": null }

### PUBLIC — List all restaurants
GET {{baseUrl}}/restaurants
Accept: application/json

### PUBLIC — Get restaurant details
GET {{baseUrl}}/restaurants/{{restaurantId}}
Accept: application/json

### PUBLIC — Check availability
GET {{baseUrl}}/restaurants/{{restaurantId}}/availability?date=2025-11-20
Accept: application/json

### Public cancel reservation by token (from email)
GET {{baseUrl}}/reservations/cancel/{{cancelToken}}
Accept: application/json

